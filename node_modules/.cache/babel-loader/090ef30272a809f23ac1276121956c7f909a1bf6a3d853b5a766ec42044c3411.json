{"ast":null,"code":"var _jsxFileName = \"C:\\\\chat-app-main\\\\src\\\\components\\\\RightSidebar\\\\MessageBox.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport LeftChatBubble from \"./LeftChatBubble\";\nimport { useDispatch } from \"react-redux\";\nimport RightChatBubble from \"./RightChatBubble\";\nimport MessageInput from \"./MessageInput\";\nimport { addNewMessage } from \"../../actions/contact\";\nimport ProfileHeader from \"../LeftSidebar/ProfileHeader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MessageBox(props) {\n  _s();\n  const [chat, setChat] = useState([]);\n  const [length, setLength] = useState();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setChat(props.user.chatlog);\n    setLength(props.user.chatlog.length);\n  }, [props]);\n  var time;\n  var hours;\n  var minutes;\n  function currentTime() {\n    var currentDate = new Date();\n    hours = currentDate.getHours();\n    hours = hours % 12 || 12;\n    hours = appendZero(hours);\n\n    // hours = appendZero(currentDate.getHours());\n    minutes = appendZero(currentDate.getMinutes());\n    var seconds = appendZero(currentDate.getSeconds());\n    const am = \"AM\";\n    const pm = \"PM\";\n    const timeZone = hours <= 12 ? am : pm;\n    time = `${hours}:${minutes}:${seconds} ${timeZone}`;\n  }\n  function appendZero(time) {\n    if (time < 10 && time.length != 2) {\n      return \"0\" + time;\n    }\n    return time;\n  }\n  setInterval(currentTime, 1000);\n  let updateMesssages = message => {\n    let object = {\n      text: message,\n      timestamp: time,\n      sender: \"me\",\n      message_id: length + 1\n    };\n    dispatch(addNewMessage(object, props.user.id));\n    // updatelength\n    setLength(object.message_id);\n    setChat([...chat, object]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-box-header\",\n        xs: 6,\n        sm: 7,\n        md: 8,\n        lg: 7,\n        xl: 8,\n        children: /*#__PURE__*/_jsxDEV(ProfileHeader, {\n          user: props.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), chat.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-message-alert\",\n        children: \"NO MESSAGES FOUND\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), chat.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-section\",\n        children: chat.map((m, index) => m.sender === \"me\" ? /*#__PURE__*/_jsxDEV(RightChatBubble, {\n          message: m,\n          name: \"Siddharth\",\n          image: \"https://pbs.twimg.com/media/FjU2lkcWYAgNG6d.jpg\"\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(LeftChatBubble, {\n          message: m,\n          name: props.user.name,\n          image: props.user.image\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n        newMessageHandler: updateMesssages,\n        user: props.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(MessageBox, \"VEktKsiLQ7jtfGwoN/HdNbtY5us=\", false, function () {\n  return [useDispatch];\n});\n_c = MessageBox;\nexport default MessageBox;\nvar _c;\n$RefreshReg$(_c, \"MessageBox\");","map":{"version":3,"names":["React","useEffect","useState","LeftChatBubble","useDispatch","RightChatBubble","MessageInput","addNewMessage","ProfileHeader","jsxDEV","_jsxDEV","Fragment","_Fragment","MessageBox","props","_s","chat","setChat","length","setLength","dispatch","user","chatlog","time","hours","minutes","currentTime","currentDate","Date","getHours","appendZero","getMinutes","seconds","getSeconds","am","pm","timeZone","setInterval","updateMesssages","message","object","text","timestamp","sender","message_id","id","children","className","xs","sm","md","lg","xl","fileName","_jsxFileName","lineNumber","columnNumber","map","m","index","name","image","newMessageHandler","_c","$RefreshReg$"],"sources":["C:/chat-app-main/src/components/RightSidebar/MessageBox.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport LeftChatBubble from \"./LeftChatBubble\";\nimport { useDispatch } from \"react-redux\";\nimport RightChatBubble from \"./RightChatBubble\";\nimport MessageInput from \"./MessageInput\";\nimport { addNewMessage } from \"../../actions/contact\";\nimport ProfileHeader from \"../LeftSidebar/ProfileHeader\";\nfunction MessageBox(props) {\n  const [chat, setChat] = useState([]);\n  const [length, setLength] = useState();\n  const dispatch = useDispatch();\n  useEffect(() => {\n\n\n    setChat(props.user.chatlog);\n    setLength(props.user.chatlog.length);\n  }, [props]);\n  var time;\n  var hours;\n  var minutes;\n  function currentTime() {\n  var currentDate = new Date();\n  hours = currentDate.getHours();\n  hours = hours % 12 || 12;\n  hours = appendZero(hours);\n\n  // hours = appendZero(currentDate.getHours());\n  minutes = appendZero(currentDate.getMinutes());\n  var seconds = appendZero(currentDate.getSeconds());\n  const am = \"AM\";\n  const pm = \"PM\";\n   const timeZone = hours <= 12 ? am : pm;\n\n  time = `${hours}:${minutes}:${seconds} ${timeZone}`;\n\n  }\n\n  function appendZero(time) {\n  if (time < 10 && time.length != 2) {\n    return \"0\" + time;\n  }\n  return time;\n}\n\n\nsetInterval(currentTime, 1000);\n\n\n\n  let updateMesssages = (message) => {\n    let object = {\n      text: message,\n      timestamp: time,\n      sender: \"me\",\n      message_id: length + 1,\n    };\n    dispatch(addNewMessage(object, props.user.id));\n    // updatelength\n    setLength(object.message_id);\n\n    setChat([...chat, object]);\n  };\n\n  return (\n    <>\n      <div className=\"message-box\">\n        <div className=\"message-box-header\" xs={6} sm={7} md={8} lg={7} xl={8}>\n          <ProfileHeader user={props.user} />\n        </div>\n        {chat.length === 0 && (\n          <p className=\"no-message-alert\">NO MESSAGES FOUND</p>\n        )}\n        {chat.length > 0 && (\n          <div className=\"messages-section\">\n            {chat.map((m, index) =>\n              m.sender === \"me\" ? (\n                <RightChatBubble\n                  message={m}\n                  key={index}\n                  name={\"Siddharth\"}\n                  image={\"https://pbs.twimg.com/media/FjU2lkcWYAgNG6d.jpg\"}\n                />\n              ) : (\n                <LeftChatBubble\n                  message={m}\n                  key={index}\n                  name={props.user.name}\n                  image={props.user.image}\n                />\n              )\n            )}\n          </div>\n        )}\n\n        <MessageInput newMessageHandler={updateMesssages} user={props.user} />\n      </div>\n    </>\n  );\n}\n\nexport default MessageBox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}